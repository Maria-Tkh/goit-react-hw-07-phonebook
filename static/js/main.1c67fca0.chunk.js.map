{"version":3,"sources":["redux/contactsSlice.jsx","components/Loader/Loader.jsx","components/СontactForm/СontactForm.styled.jsx","components/СontactForm/СontactForm.jsx","components/СontactElement/ContactElement.styled.jsx","components/СontactElement/СontactElement.jsx","components/СontactList/СontactList.styled.jsx","components/СontactList/СontactList.jsx","components/Filter/Filter.styled.jsx","components/Filter/Filter.jsx","components/App.styled.jsx","components/App.jsx","redux/store.jsx","index.js"],"names":["contactsApi","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","tagTypes","endpoints","builder","fetchContacts","query","providesTags","deleteContact","mutation","contactId","url","method","invalidatesTags","createContact","newContact","body","useFetchContactsQuery","useCreateContactMutation","useDeleteContactMutation","Spinner","type","color","height","width","timeout","Form","styled","form","Input","input","Button","button","ContactForm","useState","name","setName","number","setNumber","isLoading","contacts","data","handleContact","e","currentTarget","value","onSubmit","preventDefault","some","contact","alert","htmlFor","onChange","pattern","title","required","disabled","Item","li","ContactElement","id","onClick","List","ul","ContactList","onDeleteContact","map","Label","label","Filter","filter","setFilter","target","PhonebookTitle","h1","ContactTitle","h2","App","isFetching","isDeleting","normalizedFilter","toLowerCase","includes","deleting","store","configureStore","reducer","middleware","getDefaultMiddleware","logger","devTools","process","setupListeners","dispatch","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1c67fca0.chunk.js","sourcesContent":["import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\n\nexport const contactsApi = createApi({\n  reducerPath: 'contactsApi',\n  baseQuery: fetchBaseQuery({\n    baseUrl: 'https://61784fe1bb979200171ff686.mockapi.io/api/v1/',\n  }),\n  tagTypes: ['Contact'],\n  endpoints: builder => ({\n    fetchContacts: builder.query({\n      query: () => 'Contacts',\n      providesTags: ['Contact'],\n    }),\n    deleteContact: builder.mutation({\n      query: contactId => ({\n        url: `/Contacts/${contactId}`,\n        method: 'DELETE',\n      }),\n      invalidatesTags: ['Contact'],\n    }),\n    createContact: builder.mutation({\n      query: newContact => ({\n        url: '/Contacts',\n        method: 'POST',\n        body: newContact,\n      }),\n      invalidatesTags: ['Contact'],\n    }),\n  }),\n});\n\nexport const { useFetchContactsQuery, useCreateContactMutation, useDeleteContactMutation } =\n  contactsApi;\n","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nexport default function Spinner() {\n  return <Loader type=\"Rings\" color=\"#00BFFF\" height={80} width={80} timeout={3000} />;\n}\n","import styled from '@emotion/styled';\n\nexport const Form = styled.form`\n  // display: block;\n  margin-left: 20px;\n`;\n\nexport const Input = styled.input`\n  display: block;\n  margin-top: 10px;\n  margin-bottom: 10px;\n`;\n\nexport const Button = styled.button`\n  background-color: #34b4eb;\n  border-color: #34b4eb;\n  border-radius: 4px;\n`;\n","import { useState } from 'react';\nimport { useCreateContactMutation, useFetchContactsQuery } from 'redux/contactsSlice';\nimport Loader from 'components/Loader/Loader';\n// import { useDispatch, useSelector } from 'react-redux';\n// import { getContacts } from '../../redux/selectors';\n// import actions from '../../redux/actions';\nimport { Form, Input, Button } from './СontactForm.styled';\n\nconst ContactForm = () => {\n  const [name, setName] = useState('');\n  const [number, setNumber] = useState('');\n\n  const [createContact, { isLoading }] = useCreateContactMutation();\n  const { data: contacts } = useFetchContactsQuery();\n\n  const handleContact = e => {\n    const { name, value } = e.currentTarget;\n    switch (name) {\n      case 'name':\n        setName(value);\n        break;\n\n      case 'number':\n        setNumber(value);\n        break;\n\n      default:\n        return;\n    }\n  };\n\n  const handleSubmitContact = e => {\n    e.preventDefault();\n    const contactToCheck = contacts.some(contact => contact.name === name);\n    if (contactToCheck) {\n      alert(`${name} is already in contacts`);\n    }\n    createContact({ name, number });\n    setName('');\n    setNumber('');\n  };\n\n  return (\n    <Form onSubmit={handleSubmitContact}>\n      <label htmlFor=\"name\">\n        Name\n        <Input\n          value={name}\n          onChange={handleContact}\n          type=\"text\"\n          name=\"name\"\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n          title=\"Имя может состоять только из букв, апострофа, тире и пробелов.\n             Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\n          required\n        />\n      </label>\n      <label htmlFor=\"number\">\n        Number\n        <Input\n          value={number}\n          onChange={handleContact}\n          type=\"tel\"\n          name=\"number\"\n          pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n          title=\"Номер телефона должен состоять цифр и может содержать пробелы,\n             тире, круглые скобки и может начинаться с +\"\n          required\n        />\n      </label>\n      <div>\n        <Button type=\"submit\" disabled={isLoading}>\n          {isLoading && <Loader />}Add contact\n        </Button>\n      </div>\n    </Form>\n  );\n};\n\nexport default ContactForm;\n","import styled from '@emotion/styled';\n\nexport const Item = styled.li`\n  display: flex;\n  justify-content: space-between;\n  width: 300px;\n  margin: 4px;\n`;\n\nexport const Button = styled.button`\n  background-color: #34b4eb;\n  border-color: #34b4eb;\n  border-radius: 4px;\n`;\n","import PropTypes from 'prop-types';\nimport { Item, Button } from './ContactElement.styled';\n\nconst ContactElement = ({ id, name, number, onClick }) => {\n  return (\n    <Item key={id}>\n      <span>\n        {name}: {number}\n      </span>\n      <Button type=\"button\" onClick={onClick}>\n        Delete\n      </Button>\n    </Item>\n  );\n};\n\nContactElement.propTypes = {\n  id: PropTypes.string,\n  name: PropTypes.string.isRequired,\n  number: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ContactElement;\n","import styled from '@emotion/styled';\n\nexport const List = styled.ul`\n  padding-left: 20px;\n`;\n","import PropTypes from 'prop-types';\nimport ContactElement from 'components/СontactElement/СontactElement';\n// import { useSelector, useDispatch } from 'react-redux';\n// import actions from '../../redux/actions';\n// import { getVisibleContacts } from '../../redux/selectors';\nimport { List } from './СontactList.styled';\n\nconst ContactList = ({ contacts, onDeleteContact }) => {\n  // const contacts = useSelector(getVisibleContacts);\n  // const dispatch = useDispatch();\n\n  // const onDeleteContact = id => dispatch(actions.deleteContact(id));\n\n  return (\n    <List>\n      {contacts.map(contact => (\n        <ContactElement\n          key={contact.id}\n          name={contact.name}\n          number={contact.number}\n          onClick={() => onDeleteContact(contact.id)}\n        />\n      ))}\n    </List>\n  );\n};\n\nContactList.propTypes = {\n  contacts: PropTypes.arrayOf(\n    PropTypes.exact({\n      id: PropTypes.string,\n      name: PropTypes.string.isRequired,\n      number: PropTypes.string.isRequired,\n    }).isRequired,\n  ),\n};\n\nexport default ContactList;\n","import styled from '@emotion/styled';\n\nexport const Label = styled.label`\n  display: block;\n  margin-left: 20px;\n`;\n","// import PropTypes from 'prop-types';\n// import { useSelector, useDispatch } from 'react-redux';\n// import { getFilter } from '../../redux/selectors';\n// import contactsActions from '../../redux/actions';\nimport { useState } from 'react';\nimport { Label } from './Filter.styled';\n\nconst Filter = () => {\n  const [filter, setFilter] = useState('');\n  const changeFilter = e => {\n    setFilter(e.target.value);\n  };\n\n  // const value = useSelector(getFilter);\n  // const dispatch = useDispatch();\n\n  return (\n    <Label>\n      <p> Find contact by name</p>\n      <input\n        type=\"text\"\n        // name=\"filter\"\n        value={filter}\n        onChange={changeFilter}\n      />\n    </Label>\n  );\n};\n\n// Filter.propTypes = {\n//   value: PropTypes.string.isRequired,\n//   // onChange: PropTypes.func.isRequired,\n// };\n\nexport default Filter;\n","import styled from '@emotion/styled';\n\nexport const PhonebookTitle = styled.h1`\n  margin-left: 20px;\n`;\n\nexport const ContactTitle = styled.h2`\n  margin-left: 20px;\n`;\n","import { useFetchContactsQuery, useDeleteContactMutation } from 'redux/contactsSlice';\nimport ContactForm from './СontactForm/СontactForm';\nimport ContactList from './СontactList/СontactList';\nimport Filter from './Filter/Filter';\nimport Loader from './Loader/Loader';\nimport { PhonebookTitle, ContactTitle } from './App.styled';\n\nconst App = () => {\n  const { data: contacts, isFetching } = useFetchContactsQuery();\n  const [deleteContact, { isLoading: isDeleting }] = useDeleteContactMutation();\n\n  const visibleContacts = filter => {\n    const normalizedFilter = filter.toLowerCase();\n    return contacts.filter(contact => contact.name.toLowerCase().includes(normalizedFilter));\n  };\n  // const [createContact] = useCreateContactMutation();\n  return (\n    <div>\n      <PhonebookTitle>Phonebook</PhonebookTitle>\n      <ContactForm />\n      <ContactTitle>Contacts</ContactTitle>\n      <Filter filter={visibleContacts} />\n      {isFetching && <Loader />}\n      {contacts && (\n        <ContactList contacts={contacts} onDeleteContact={deleteContact} deleting={isDeleting} />\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit';\nimport { setupListeners } from '@reduxjs/toolkit/query';\nimport logger from 'redux-logger';\nimport { contactsApi } from './contactsSlice';\n\nexport const store = configureStore({\n  reducer: {\n    [contactsApi.reducerPath]: contactsApi.reducer,\n  },\n  middleware: getDefaultMiddleware => [...getDefaultMiddleware(), contactsApi.middleware, logger],\n  devTools: process.env.NODE_ENV === 'development',\n});\n\nsetupListeners(store.dispatch);\n\n// import logger from 'redux-logger';\n// import {\n//   persistStore,\n//   persistReducer,\n//   FLUSH,\n//   REHYDRATE,\n//   PAUSE,\n//   PERSIST,\n//   PURGE,\n//   REGISTER,\n// } from 'redux-persist';\n// import storage from 'redux-persist/lib/storage';\n// import contactsReducer from './reducer';\n\n// const contactsPersistConfig = {\n//   key: 'contacts',\n//   storage,\n//   blacklist: ['filter'],\n// };\n\n// const store = configureStore({\n//   reducer: {\n//     contacts: persistReducer(contactsPersistConfig, contactsReducer),\n//   },\n//   devTools: process.env.NODE_ENV === 'development',\n//   middleware: getDefaultMiddleware =>\n//     getDefaultMiddleware({\n//       serializableCheck: {\n//         ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n//       },\n//     }).concat(logger),\n// });\n\n// const persistor = persistStore(store);\n\n// // eslint-disable-next-line import/no-anonymous-default-export\n// export default { store, persistor };\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\n// import { PersistGate } from 'redux-persist/integration/react';\nimport './index.css';\nimport App from './components/App';\nimport { store } from './redux/store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      {/* <PersistGate loading={null} persistor={store.persistor}> */}\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n      {/* </PersistGate> */}\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}